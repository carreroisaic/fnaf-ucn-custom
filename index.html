<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ultimate Custom Night - Stable</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <!-- MENÚ PRINCIPAL -->
    <div id="menu">
        <div id="audio-hint">CLICK TO ENABLE AUDIO</div>

        <div id="roster-grid">
            <!-- Se genera por script -->
        </div>

        <div id="side-panel">
            <div id="difficulty-controls">
                <button onclick="setAll(0)">SET ALL 0</button>
                <button onclick="setAll(10)">SET ALL 10</button>
                <button onclick="setAll(20)">SET ALL 20</button>
            </div>

            <div id="blocker-panel"></div>

            <div id="score-display">
                VALUE: <span id="point-value">0</span><br>
                HIGH SCORE: <span id="high-score-val">0</span>
            </div>

            <button id="go-button" onclick="showInstructions()">GO!</button>

            <div id="info-toggle-container">
                <input type="checkbox" id="char-info-toggle" checked>
                <label for="char-info-toggle">SHOW CHARACTER INFO</label>
            </div>

            <button id="reset-highscore-btn" onclick="confirmReset()">RESET PROGRESS</button>
        </div>

        <div id="menu-tooltip">
            <h3 id="tooltip-name"></h3>
            <p id="tooltip-desc"></p>
        </div>
    </div>

    <!-- PANTALLA DE CARGA -->
    <div id="loading-screen" class="hidden">
        <div id="loading-content">
            <h1 class="blink">LOADING...</h1>
        </div>
    </div>

    <!-- INSTRUCCIONES -->
    <div id="instructions-screen" class="hidden">
        <div id="instr-content">
            <h1>CONTROLS</h1>
            <ul id="instr-list">
                <li>[S] : Toggle Monitor</li>
                <li>[A/D/W/F] : Doors & Vents</li>
                <li>[X] : Freddy Mask</li>
                <li>[Z] : Flashlight</li>
                <li>[SPACE] : Fan</li>
                <li>[ESC] : Pause</li>
            </ul>
            <button id="start-night-button" onclick="startGame()">START NIGHT</button>
        </div>
    </div>

    <!-- OFICINA -->
    <div id="office" class="hidden">
        <div id="office-room">
            <img id="bg-img" src="office_bg.png">

            <div id="door-left" class="door"></div>
            <div id="door-right" class="door"></div>
            <div id="door-top" class="door"></div>
            <div id="door-side" class="door"></div>

            <div id="css-fan-container">
                <div id="fan-blades-css" class="fan-stopped">
                    <div class="blade b1"></div>
                    <div class="blade b2"></div>
                    <div class="blade b3"></div>
                    <div class="fan-center"></div>
                </div>
                <div id="fan-cage"></div>
            </div>
        </div>

        <!-- MÁSCARA -->
        <div id="mask-overlay" class="mask-hidden">
            <img id="mask-img" src="mask.png">
        </div>

        <!-- MONITOR -->
        <div id="camera-monitor" class="monitor-hidden">
            <div id="cam-view">
                <img id="cam-img" src="">
                <div id="cam-static"></div>
                <div id="cam-label">CAM 01</div>
                <button id="repair-button" onclick="repairVentilation()">RESET VENTILATION</button>
            </div>
            <div id="cam-map">
                <button class="cam-btn active" data-cam="1">CAM 01 - DINING</button>
                <button class="cam-btn" data-cam="2">CAM 02 - PIRATE COVE</button>
                <button class="cam-btn" data-cam="3">CAM 03 - KITCHEN</button>
                <button class="cam-btn" data-cam="4">CAM 04 - RESTROOMS</button>
                <button class="cam-btn" data-cam="5">CAM 05 - CLOSET</button>
            </div>
        </div>

        <!-- Barra Toggle -->
        <div id="monitor-toggle-bar">MONITOR</div>

        <!-- Overlays -->
        <div id="flashlight-overlay"></div>
        <div id="blackout-overlay"></div>

        <!-- HUD -->
        <div id="hud">
            <div id="top-left">
                <div id="timer">12 AM</div>
                <div id="detailed-timer">0:00.00</div>
            </div>
            <div id="bottom-left">
                POWER: <span id="power-val">100</span>%<br>
                USAGE: <span id="usage-bars"></span>
            </div>
            <div id="bottom-right">
                TEMP: <span id="temperature">60</span>°
            </div>
        </div>
    </div>

    <!-- MENÚ PAUSA -->
    <div id="pause-menu" class="hidden">
        <div id="pause-content">
            <h1>PAUSED</h1>
            <div class="pause-options">
                <button onclick="togglePause()">RESUME</button>
                <button onclick="location.reload()">MENU</button>
            </div>
            <div class="setting-item">
                <label>SENSITIVITY</label>
                <input type="range" id="sens-slider" min="0.1" max="2" step="0.1" value="1.0"
                    oninput="updateSensitivity(this.value)">
                <span id="sens-val">1.0</span>
            </div>
        </div>
    </div>

    <!-- JUMPSCARE -->
    <div id="jumpscare-overlay" class="hidden">
        <img id="jumpscare-img" src="">
    </div>

    <!-- VICTORIA -->
    <div id="win-screen" class="hidden">
        <h1 class="did-it-title">6 AM</h1>
        <h2 id="win-score-disp" class="tally-score">Score: 0</h2>
        <div id="win-rank" class="rank-label">GREAT JOB!</div>
        <button class="menu-back-btn" onclick="location.reload()">MENU</button>
    </div>

    <!-- RÉCORD -->
    <div id="new-highscore-screen" class="hidden">
        <h1 class="did-it-title">NEW RECORD</h1>
        <h2 id="final-score-disp" class="tally-score">Score: 0</h2>
        <div id="high-rank" class="rank-label">AMAZING!</div>
        <button class="menu-back-btn" onclick="location.reload()">CONTINUE</button>
    </div>

    <audio id="bgm-menu" src="menu_music.mp3" loop></audio>
    <audio id="sfx-mask" src="mask_sfx.mp3"></audio>
    <audio id="sfx-jumpscare" src="jumpscare.mp3"></audio>

    <script src="script.js"></script>
</body>

</html>