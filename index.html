<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ultimate Custom Night - HTML Custom</title>
    <link rel="stylesheet" href="style.css">
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background: black;
            color: white;
            font-family: 'Courier New', Courier, monospace;
        }
    </style>
</head>

<body>
    <!-- Bot칩n de Pausa (Manita) -->
    <div id="pause-trigger" onclick="togglePause()">游녣</div>

    <!-- Men칰 de Pausa -->
    <div id="pause-menu" class="hidden">
        <div id="pause-content">
            <h1>JUEGO PAUSADO</h1>
            <div class="pause-options">
                <button onclick="togglePause()">REANUDAR</button>
                <div class="setting-item">
                    <label>Sensibilidad del Mouse:</label>
                    <input type="range" id="sens-slider" min="0.5" max="2.0" step="0.1" value="1.0"
                        oninput="updateSensitivity(this.value)">
                    <span id="sens-val">1.0</span>
                </div>
                <button onclick="location.reload()">SALIR AL MEN칔</button>
            </div>
        </div>
    </div>

    <!-- MEN칔 PRINCIPAL -->
    <div id="menu">
        <div id="audio-hint">Haz clic en cualquier lugar para activar el sonido 游댉</div>
        <div id="roster-grid"></div>

        <!-- Tooltip de Descripci칩n -->
        <div id="menu-tooltip">
            <h3 id="tooltip-name"></h3>
            <p id="tooltip-desc"></p>
        </div>


        <div id="side-panel">
            <div id="difficulty-controls">
                <button onclick="setAll(0)">SET ALL 0</button>
                <button onclick="setAll(1)">ADD ALL 1</button>
                <button onclick="setAll(5)">SET ALL 5</button>
                <button onclick="setAll(10)">SET ALL 10</button>
                <button onclick="setAll(20)">SET ALL 20</button>
            </div>
            <div id="blocker-panel"></div>
            <div id="score-display">
                <div class="score-row">High Score: <span id="high-score-val">0</span></div>
                <div class="score-row">Point Value: <span id="point-value">0</span></div>
                <button id="reset-highscore-btn" onclick="confirmReset()">RESET RECORD</button>
            </div>

            <div id="info-toggle-container">
                <span>SHOW CHAR INFO:</span>
                <input type="checkbox" id="char-info-toggle" checked>
            </div>

            <button id="go-button" onclick="showInstructions()">GO!</button>
        </div>
    </div>

    <!-- PANTALLA DE INSTRUCCIONES -->
    <div id="instructions-screen" class="hidden">
        <div id="instr-content">
            <h1>SISTEMAS DE DEFENSA</h1>
            <ul id="instr-list">
                <li>[A/D] - Puertas Lateral Izq/Der</li>
                <li>[W] - Ventilaci칩n Superior (Top Vent)</li>
                <li>[F] - Ventilaci칩n Inferior (Side Vent)</li>
                <li>[Z] - Linterna (Uso limitado)</li>
                <li>[S] - MONITOR DE C츼MARAS</li>
                <li>[Espacio] - Ventilador (Refresca la oficina)</li>
                <li>[X] - M츼SCARA DE FREDDY (칔sala r치pido)</li>
            </ul>
            <p>Mueve el mouse para vigilar los laterales.</p>
            <button id="start-night-button" onclick="startGame()">춰EMPEZAR NOCHE!</button>
        </div>
    </div>

    <!-- PANTALLA DE CARGA -->
    <div id="loading-screen" class="hidden">
        <div id="loading-content">
            <h1 class="blink">LOADING...</h1>
            <p>CONECTANDO CON LA OFICINA...</p>
        </div>
    </div>

    <!-- OFICINA -->
    <div id="office" class="hidden">
        <!-- Room Container -->
        <div id="office-room">
            <img src="office_bg.png" alt="Office Background" id="bg-img">
            <div id="door-left" class="door"></div>
            <div id="door-right" class="door"></div>
            <div id="door-top" class="door"></div>
            <div id="door-side" class="door"></div>
        </div>

        <!-- M치scara -->
        <div id="mask-overlay" class="mask-hidden">
            <img src="mask.png" alt="MASK" id="mask-img">
        </div>

        <!-- Ventilador CSS -->
        <div id="css-fan-container">
            <div id="fan-blades-css" class="fan-stopped">
                <div class="blade b1"></div>
                <div class="blade b2"></div>
                <div class="blade b3"></div>
                <div class="fan-center"></div>
            </div>
            <div id="fan-cage"></div>
        </div>

        <!-- MONITOR -->
        <div id="camera-monitor" class="monitor-hidden">
            <div id="cam-view">
                <img src="cam1_dining.png" id="cam-img" alt="CAMERA FEED">
                <div id="cam-static"></div>
                <div id="cam-label">CAM 01</div>
                <button id="repair-button" onclick="repairVentilation()">RESET VENTILATION</button>
            </div>
            <div id="cam-map">
                <button class="cam-btn active" data-cam="1">CAM 01</button>
                <button class="cam-btn" data-cam="2">CAM 02</button>
                <button class="cam-btn" data-cam="3">CAM 03</button>
                <button class="cam-btn" data-cam="4">CAM 04</button>
                <button class="cam-btn" data-cam="5">CAM 05</button>
            </div>

            <!-- UI de la Caja de M칰sica (Espec칤fico para Puppet) -->
            <div id="music-box-ui" class="hidden">
                <p>MUSIC BOX</p>
                <div id="box-meter-bg">
                    <div id="box-meter-fill"></div>
                </div>
                <button id="wind-btn">CLICK & HOLD TO WIND</button>
            </div>
        </div>

        <!-- Overlays -->
        <div id="flashlight-overlay"></div>

        <!-- OLD MAN CONSEQUENCES MINIGAME -->
        <div id="omc-minigame" class="hidden">
            <div id="omc-content">
                <div id="omc-header">CATCH THE FISH!</div>
                <div id="omc-pond">
                    <div id="omc-catch-zone"></div>
                    <div id="omc-fish">游</div>
                </div>
                <div id="omc-footer">PRESS [C]</div>
            </div>
        </div>

        <!-- HUD -->
        <div id="hud">
            <div id="top-left">
                <div id="timer">12:00 AM</div>
                <div id="detailed-timer">0:00.0</div>
            </div>
            <div id="bottom-left">
                <div id="power-left">Power Left: <span id="power-val">100</span>%</div>
                <div id="usage-meter">Usage: <span id="usage-bars">|</span></div>
            </div>
            <div id="bottom-right">
                <div id="temperature">60춿</div>
            </div>
        </div>

        <div id="monitor-toggle-bar" onclick="toggleMonitor()">
            <span id="vent-warn-left" class="warn-emoji hidden">丘멆잺</span>
            MONITOR
            <span id="vent-warn-right" class="warn-emoji hidden">丘멆잺</span>
        </div>

        <!-- Oscuridad TOTAL (Al final para que tape TODO el HUD) -->
        <div id="blackout-overlay"></div>

        <div id="jumpscare" class="hidden">
            <img id="jumpscare-img" src="" alt="JUMPSCARE">
        </div>

        <!-- BARRA PARA ABRIR MONITOR (ESTILO UCN) -->
        <div id="monitor-toggle-bar">
            <span>MONITOR</span>
        </div>
    </div>

    <!-- Audio -->
    <audio id="bgm-menu" src="menu_music.mp3" loop></audio>
    <audio id="bgm-game-1" src="game_music_1.mp3" loop></audio>
    <audio id="bgm-game-2" src="game_music_2.mp3" loop></audio>
    <audio id="bgm-game-3" src="game_music_3.mp3" loop></audio>
    <audio id="sfx-win-normal" src="win_normal.mp3"></audio>
    <audio id="sfx-win-highscore" src="win_highscore.mp3"></audio>
    <audio id="sfx-mask" src="mask_sfx.mp3"></audio>
    <audio id="sfx-omc-appear" src="omc_appear.mp3"></audio>
    <audio id="sfx-omc-success" src="omc_success.mp3"></audio>
    <audio id="sfx-omc-fail" src="omc_error.mp3"></audio>

    <!-- Win Screens -->
    <div id="win-screen" class="hidden">
        <h1 id="win-rank" class="rank-label">GREAT JOB!</h1>
        <h2 id="win-score-disp" class="tally-score">Score: 0</h2>
        <p class="did-it-bottom">YOU DID IT!</p>
        <button class="menu-back-btn" onclick="location.reload()">MENU</button>
    </div>

    <div id="new-highscore-screen" class="hidden">
        <h1 id="high-rank" class="rank-label">GREAT JOB!</h1>
        <h2 id="final-score-disp" class="tally-score">Score: 0</h2>
        <p class="did-it-bottom">YOU DID IT!</p>
        <button class="menu-back-btn" onclick="location.reload()">MENU</button>
    </div>

    <script src="script.js"></script>
</body>

</html>